{"version":3,"sources":["webpack:///./src/components/tab/RecommendationHistory.vue?86cf","webpack:///src/components/tab/RecommendationHistory.vue","webpack:///./src/components/tab/RecommendationHistory.vue?0aff","webpack:///./src/components/tab/RecommendationHistory.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","history","length","staticClass","_v","_l","item","index","key","_s","content","info","pageCount","attrs","rows","perPage","model","value","callback","$$v","currentPage","expression","_e","staticRenderFns","props","data","computed","recommendations","$store","state","recommendation","list","pageHistory","slice","start","end","Math","ceil","watch","id","getHistory","mounted","methods","component"],"mappings":"uHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAQF,EAAIM,QAAQC,OAAS,EAAGH,EAAG,MAAM,CAACI,YAAY,aAAa,CAACJ,EAAG,KAAK,CAACJ,EAAIS,GAAG,cAAcL,EAAG,eAAeJ,EAAIU,GAAIV,EAAe,aAAE,SAASW,EAAKC,GAAO,OAAOR,EAAG,oBAAoB,CAACS,IAAK,WAAaD,GAAQ,CAACZ,EAAIS,GAAG,IAAIT,EAAIc,GAAGH,EAAKI,SAAS,KAAKX,EAAG,MAAMA,EAAG,QAAQ,CAACJ,EAAIS,GAAGT,EAAIc,GAAGH,EAAKK,cAAa,GAAIhB,EAAIiB,UAAY,EAAGb,EAAG,eAAe,CAACI,YAAY,OAAOU,MAAM,CAAC,aAAalB,EAAImB,KAAK,WAAWnB,EAAIoB,QAAQ,MAAQ,SAAS,KAAO,MAAMC,MAAM,CAACC,MAAOtB,EAAe,YAAEuB,SAAS,SAAUC,GAAMxB,EAAIyB,YAAYD,GAAKE,WAAW,iBAAiB1B,EAAI2B,MAAM,GAAG3B,EAAI2B,MACppBC,EAAkB,G,wDCuBtB,GACEC,MAAO,CAAC,MACRC,KAFF,WAGI,MAAO,CACLxB,QAAS,GACTmB,YAAa,EACbL,QAAS,IAGbW,SAAU,CACRC,gBADJ,WAEM,OAAO/B,KAAKgC,OAAOC,MAAMC,eAAeC,MAE1CjB,KAJJ,WAKM,OAAOlB,KAAKK,QAAQC,QAEtB8B,YAPJ,WAQM,IAAN,oCACA,gCACM,OAAOpC,KAAKK,QAAQgC,MAAMC,EAAOC,IAEnCvB,UAZJ,WAaM,OAAOwB,KAAKC,KAAKzC,KAAKkB,KAAOlB,KAAKmB,WAGtCuB,MAAO,CACLC,GADJ,WAEM3C,KAAK4C,eAGTC,QA9BF,WA+BI7C,KAAK4C,cAEPE,QAAS,CACP,WADJ,WACA,uKACA,gCADA,SAEA,MACA,gDACA,CACA,SACA,gDACA,6BAPA,cAEA,EAFA,gBAWA,SAXA,OAWA,UAXA,uDC1D8W,I,YCO1WC,EAAY,eACd,EACAjD,EACA6B,GACA,EACA,KACA,WACA,MAIa,aAAAoB,E","file":"js/chunk-2d228c68.923d00bc.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.history.length > 0)?_c('div',{staticClass:\"mb-2 mt-2\"},[_c('h5',[_vm._v(\"History:\")]),_c('b-list-group',_vm._l((_vm.pageHistory),function(item,index){return _c('b-list-group-item',{key:(\"history-\" + index)},[_vm._v(\" \"+_vm._s(item.content)+\" \"),_c('br'),_c('small',[_vm._v(_vm._s(item.info))])])}),1),(_vm.pageCount > 1)?_c('b-pagination',{staticClass:\"mt-2\",attrs:{\"total-rows\":_vm.rows,\"per-page\":_vm.perPage,\"align\":\"center\",\"size\":\"sm\"},model:{value:(_vm.currentPage),callback:function ($$v) {_vm.currentPage=$$v},expression:\"currentPage\"}}):_vm._e()],1):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"mb-2 mt-2\" v-if=\"history.length > 0\">\r\n    <h5>History:</h5>\r\n    <b-list-group>\r\n      <b-list-group-item v-for=\"(item, index) in pageHistory\" :key=\"`history-${index}`\">\r\n        {{item.content}}\r\n        <br />\r\n        <small>{{item.info}}</small>\r\n      </b-list-group-item>\r\n    </b-list-group>\r\n    <b-pagination\r\n      v-model=\"currentPage\"\r\n      :total-rows=\"rows\"\r\n      :per-page=\"perPage\"\r\n      align=\"center\"\r\n      class=\"mt-2\"\r\n      size=\"sm\"\r\n      v-if=\"pageCount > 1\"\r\n    ></b-pagination>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { RECOMMENDATION_API_URL } from \"@/const.js\";\r\nexport default {\r\n  props: [\"id\"],\r\n  data() {\r\n    return {\r\n      history: [],\r\n      currentPage: 1,\r\n      perPage: 3\r\n    };\r\n  },\r\n  computed: {\r\n    recommendations() {\r\n      return this.$store.state.recommendation.list;\r\n    },\r\n    rows() {\r\n      return this.history.length;\r\n    },\r\n    pageHistory() {\r\n      const start = (this.currentPage - 1) * this.perPage;\r\n      const end = this.currentPage * this.perPage;\r\n      return this.history.slice(start, end);\r\n    },\r\n    pageCount() {\r\n      return Math.ceil(this.rows / this.perPage);\r\n    }\r\n  },\r\n  watch: {\r\n    id() {\r\n      this.getHistory();\r\n    }\r\n  },\r\n  mounted() {\r\n    this.getHistory();\r\n  },\r\n  methods: {\r\n    async getHistory() {\r\n      const TOKEN = localStorage.getItem(\"token\");\r\n      const response = await fetch(\r\n        RECOMMENDATION_API_URL + \"/getHistory/\" + this.id,\r\n        {\r\n          headers: {\r\n            \"Content-Type\": \"application/json;charset=utf-8\",\r\n            Authorization: \"Bearer \" + TOKEN\r\n          }\r\n        }\r\n      );\r\n      this.history = await response.json();\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RecommendationHistory.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RecommendationHistory.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./RecommendationHistory.vue?vue&type=template&id=2db75062&scoped=true&\"\nimport script from \"./RecommendationHistory.vue?vue&type=script&lang=js&\"\nexport * from \"./RecommendationHistory.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2db75062\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}