{"version":3,"sources":["webpack:///./src/components/tab/RecommendationHistory.vue?0e88","webpack:///src/components/tab/RecommendationHistory.vue","webpack:///./src/components/tab/RecommendationHistory.vue?0aff","webpack:///./src/components/tab/RecommendationHistory.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","history","length","staticClass","_v","_l","item","index","key","_s","content","info","pageCount","attrs","rows","perPage","model","value","callback","$$v","currentPage","expression","_e","staticRenderFns","props","data","computed","recommendations","$store","state","recommendation","list","pageHistory","slice","start","end","Math","ceil","watch","id","getHistory","mounted","methods","component"],"mappings":"uHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAQF,EAAIM,QAAQC,OAAS,EAAGH,EAAG,MAAM,CAACI,YAAY,aAAa,CAACJ,EAAG,KAAK,CAACJ,EAAIS,GAAG,cAAcL,EAAG,eAAeJ,EAAIU,GAAIV,EAAe,aAAE,SAASW,EAAKC,GAAO,OAAOR,EAAG,oBAAoB,CAACS,IAAK,WAAaD,GAAQ,CAACZ,EAAIS,GAAG,IAAIT,EAAIc,GAAGH,EAAKI,SAAS,KAAKX,EAAG,MAAMA,EAAG,QAAQ,CAACJ,EAAIS,GAAGT,EAAIc,GAAGH,EAAKK,cAAa,GAAIhB,EAAIiB,UAAY,EAAGb,EAAG,eAAe,CAACI,YAAY,OAAOU,MAAM,CAAC,aAAalB,EAAImB,KAAK,WAAWnB,EAAIoB,QAAQ,MAAQ,SAAS,KAAO,MAAMC,MAAM,CAACC,MAAOtB,EAAe,YAAEuB,SAAS,SAAUC,GAAMxB,EAAIyB,YAAYD,GAAKE,WAAW,iBAAiB1B,EAAI2B,MAAM,GAAG3B,EAAI2B,MACppBC,EAAkB,G,wDCuBtB,GACEC,MAAO,CAAC,MACRC,KAFF,WAGI,MAAO,CACLxB,QAAS,GACTmB,YAAa,EACbL,QAAS,IAGbW,SAAU,CACRC,gBADJ,WAEM,OAAO/B,KAAKgC,OAAOC,MAAMC,eAAeC,MAE1CjB,KAJJ,WAKM,OAAOlB,KAAKK,QAAQC,QAEtB8B,YAPJ,WAQM,IAAN,oCACA,gCACM,OAAOpC,KAAKK,QAAQgC,MAAMC,EAAOC,IAEnCvB,UAZJ,WAaM,OAAOwB,KAAKC,KAAKzC,KAAKkB,KAAOlB,KAAKmB,WAGtCuB,MAAO,CACLC,GADJ,WAEM3C,KAAK4C,eAGTC,QA9BF,WA+BI7C,KAAK4C,cAEPE,QAAS,CACP,WADJ,WACA,uKACA,gCADA,SAEA,MACA,gDACA,CACA,SACA,gDACA,6BAPA,cAEA,EAFA,gBAWA,SAXA,OAWA,UAXA,uDC1D8W,I,YCO1WC,EAAY,eACd,EACAjD,EACA6B,GACA,EACA,KACA,WACA,MAIa,aAAAoB,E","file":"js/chunk-2d228c68.2588e54e.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.history.length > 0)?_c('div',{staticClass:\"mb-2 mt-2\"},[_c('h5',[_vm._v(\"History:\")]),_c('b-list-group',_vm._l((_vm.pageHistory),function(item,index){return _c('b-list-group-item',{key:(\"history-\" + index)},[_vm._v(\" \"+_vm._s(item.content)+\" \"),_c('br'),_c('small',[_vm._v(_vm._s(item.info))])])}),1),(_vm.pageCount > 1)?_c('b-pagination',{staticClass:\"mt-2\",attrs:{\"total-rows\":_vm.rows,\"per-page\":_vm.perPage,\"align\":\"center\",\"size\":\"sm\"},model:{value:(_vm.currentPage),callback:function ($$v) {_vm.currentPage=$$v},expression:\"currentPage\"}}):_vm._e()],1):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"mb-2 mt-2\" v-if=\"history.length > 0\">\n    <h5>History:</h5>\n    <b-list-group>\n      <b-list-group-item v-for=\"(item, index) in pageHistory\" :key=\"`history-${index}`\">\n        {{item.content}}\n        <br />\n        <small>{{item.info}}</small>\n      </b-list-group-item>\n    </b-list-group>\n    <b-pagination\n      v-model=\"currentPage\"\n      :total-rows=\"rows\"\n      :per-page=\"perPage\"\n      align=\"center\"\n      class=\"mt-2\"\n      size=\"sm\"\n      v-if=\"pageCount > 1\"\n    ></b-pagination>\n  </div>\n</template>\n\n<script>\nimport { RECOMMENDATION_API_URL } from \"@/const.js\";\nexport default {\n  props: [\"id\"],\n  data() {\n    return {\n      history: [],\n      currentPage: 1,\n      perPage: 3\n    };\n  },\n  computed: {\n    recommendations() {\n      return this.$store.state.recommendation.list;\n    },\n    rows() {\n      return this.history.length;\n    },\n    pageHistory() {\n      const start = (this.currentPage - 1) * this.perPage;\n      const end = this.currentPage * this.perPage;\n      return this.history.slice(start, end);\n    },\n    pageCount() {\n      return Math.ceil(this.rows / this.perPage);\n    }\n  },\n  watch: {\n    id() {\n      this.getHistory();\n    }\n  },\n  mounted() {\n    this.getHistory();\n  },\n  methods: {\n    async getHistory() {\n      const TOKEN = localStorage.getItem(\"token\");\n      const response = await fetch(\n        RECOMMENDATION_API_URL + \"/getHistory/\" + this.id,\n        {\n          headers: {\n            \"Content-Type\": \"application/json;charset=utf-8\",\n            Authorization: \"Bearer \" + TOKEN\n          }\n        }\n      );\n      this.history = await response.json();\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RecommendationHistory.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RecommendationHistory.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./RecommendationHistory.vue?vue&type=template&id=ebff7bc2&scoped=true&\"\nimport script from \"./RecommendationHistory.vue?vue&type=script&lang=js&\"\nexport * from \"./RecommendationHistory.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"ebff7bc2\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}