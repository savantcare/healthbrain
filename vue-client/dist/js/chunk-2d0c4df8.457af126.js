(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0c4df8"],{"3d4e":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("b-card",{attrs:{"border-variant":t.isStyle1?"info":"dark",header:t.isStyle1?"info":"dark","header-bg-variant":t.isStyle1?"info":"dark","header-text-variant":"white"},scopedSlots:t._u([{key:"header",fn:function(){return[i("b-row",{style:{height:t.isStyle1?"50px":"30px"},attrs:{"align-h":"between"}},[t.isStyle1?i("h5",{staticClass:"m-md-2"},[t._v("Diagnosis")]):i("span",{staticStyle:{"font-weight":"bold"}},[t._v("Diagnosis")]),i("b-row",{staticClass:"mr-2"},[0==t.selected.length?i("b-button",{attrs:{variant:"primary",size:"sm"},on:{click:t.showAddModal}},[t._v("A")]):t._e(),0==t.selected.length?i("b-button",{staticClass:"ml-2",attrs:{size:"sm",variant:"primary"},on:{click:t.showMultiChangeModal}},[t._v("M")]):t._e(),t.selected.length>0?i("b-button",{attrs:{variant:"danger"},on:{click:t.multidiscontinue}},[t._v("D")]):t._e()],1)],1)]},proxy:!0}])},[i("b-card-text",[i("b-table",{ref:"selectableTable",attrs:{selectable:"",bordered:"","select-mode":"multi",items:t.items,responsive:"sm",fields:t.fields,small:!t.isStyle1},on:{"row-selected":t.onRowSelected},scopedSlots:t._u([{key:"cell(action)",fn:function(e){return[i("b-button",{attrs:{size:t.isStyle1?"":"sm",variant:"outline-primary"},on:{click:function(i){return t.openEditModal(e)}}},[t._v("C")]),i("b-button",{staticClass:"ml-2",attrs:{variant:"outline-danger",size:t.isStyle1?"":"sm"},on:{click:function(i){return t.discontinueReminder(e)}}},[t._v("D")])]}}])})],1)],1),i("b-modal",{attrs:{id:"modal-center",centered:"",title:t.modalTitle},scopedSlots:t._u([{key:"modal-footer",fn:function(){return[i("div",{staticClass:"float-right"},[i("b-button",{attrs:{size:"sm"},on:{click:function(e){t.modalShow=!1}}},[t._v("Close")]),i("b-button",{staticClass:"ml-2",attrs:{variant:"primary",size:"sm",disabled:!t.validation},on:{click:t.save}},[t._v(t._s(t.modalDialogButton))])],1)]},proxy:!0}]),model:{value:t.modalShow,callback:function(e){t.modalShow=e},expression:"modalShow"}},[i("b-form",{on:{submit:function(t){t.stopPropagation(),t.preventDefault()}}},[i("label",[t._v("Description:")]),i("b-form-textarea",{attrs:{id:"textarea-state",state:t.validation,rows:"5"},model:{value:t.data.description,callback:function(e){t.$set(t.data,"description",e)},expression:"data.description"}}),i("b-form-invalid-feedback",{attrs:{state:t.validation}},[t._v("Description content is required.")])],1)],1),i("b-modal",{attrs:{centered:"",size:"lg",title:"Reminder multi change"},model:{value:t.multiChangeModalShow,callback:function(e){t.multiChangeModalShow=e},expression:"multiChangeModalShow"}},[i("b-row",{attrs:{cols:"3"}},t._l(t.Diagnosis,(function(e,a){return i("b-col",{key:"item-"+a},[i("label",[t._v("Description:")]),i("b-form-textarea",{attrs:{id:"textarea-state",rows:"5",autofocus:""},model:{value:e.description,callback:function(i){t.$set(e,"description",i)},expression:"item.description"}}),i("b-form-invalid-feedback",[t._v("Description content is required.")]),i("b-button",{staticClass:"float-right mb-2 mt-2",attrs:{variant:"primary",size:"sm"},on:{click:function(i){return t.update(e)}}},[t._v("Save")])],1)})),1)],1)],1)},s=[],n=(i("a4d3"),i("e01a"),i("4de4"),i("4160"),i("159b"),i("cc98")),o=i.n(n),r=i("b441"),d={name:"RemindersPanel",data:function(){return{modalShow:!1,data:{description:""},selected:[],modalType:r["ADD_DIALOG"],timer:-1,multiChangeModalShow:!1,Diagnosis:[]}},computed:{validation:function(){return this.data.description.length>0},modalTitle:function(){return this.modalType==r["ADD_DIALOG"]?"Add Reminder":"Edit Reminder"},items:function(){var t=this;return this.$store.state.reminder.list.filter((function(e){return e.patientId==t.id&&1!=e.discontinue}))},fields:function(){return this.selected.length>0?["description","createdAt"]:["description","createdAt","action"]},id:function(){return this.$route.query.patient_id},isStyle1:function(){return this.style==r["STYLE_1"]},modalDialogButton:function(){return this.modalType==r["ADD_DIALOG"]?"Save":"Update"},style:function(){return this.$store.state.setting.style}},mounted:function(){this.$store.dispatch("getDiagnosis",{patientId:this.id,toast:this.$bvToast})},methods:{onRowSelected:function(t){this.selected=t},showAddModal:function(){var t=i("459b");this.$store.commit("setTabList",[{key:r["ADD_REMINDER"],value:t.default}]),this.$store.commit("setReminderTabType",r["ADD_REMINDER"]),this.$store.commit("setTabDialogVisibility",!0)},save:function(){if(this.modalType==r["ADD_DIALOG"]){var t=new Date;this.data["createdAt"]=t.toDateString(),this.data["id"]=o()(),this.data["patientId"]=this.id,this.$store.dispatch("addReminder",{data:this.data,toast:this.$bvToast})}else this.$store.dispatch("updateReminder",{data:this.data,toast:this.$bvToast});this.modalShow=!1},openEditModal:function(t){var e=t.item,a={id:e["id"],description:e["description"],createdAt:e["createdAt"],patientId:e["patientId"]},s=i("459b");this.$store.commit("setTabList",[{key:r["ADD_REMINDER"],value:s.default}]),this.$store.commit("setTabDialogVisibility",!0),this.$store.commit("setReminderTabType",r["EDIT_REMINDER"]),this.$store.commit("setReminderData",a)},discontinueReminder:function(t){this.$store.dispatch("discontinueReminder",{data:t.item,toast:this.$bvToast})},multidiscontinue:function(){var t=[],e=[];this.selected.forEach((function(i){t.push(i.id),e.push(i)})),this.$store.dispatch("multidiscontinueReminder",{selectedIds:t,selectedDatas:e,toast:this.$bvToast})},getStyleClass:function(){return this.style==r["STYLE_1"]?"info":"dark"},showMultiChangeModal:function(){var t=i("d157");this.$store.commit("setTabList",[{key:r["MULTIPLE_CHANGE_REMINDER"],value:t.default}]),this.$store.commit("setReminderTabType",r["MULTIPLE_CHANGE_REMINDER"]),this.$store.commit("setTabDialogVisibility",!0)}},beforeDestroy:function(){clearInterval(this.timer)}},l=d,c=i("2877"),u=Object(c["a"])(l,a,s,!1,null,null,null);e["default"]=u.exports}}]);
//# sourceMappingURL=chunk-2d0c4df8.457af126.js.map