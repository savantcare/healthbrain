{"version":3,"sources":["webpack:///./src/components/ui/SearchBox.vue?cd83","webpack:///src/components/ui/SearchBox.vue","webpack:///./src/components/ui/SearchBox.vue?9c24","webpack:///./src/components/ui/SearchBox.vue?081a","webpack:///./src/components/ui/SearchBox.vue?3555","webpack:///./node_modules/core-js/modules/es.array.map.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","style","width","attrs","ref","staticStyle","querySearch","on","handleSelect","handleFocus","handleInput","model","value","callback","$$v","searchKeyword","expression","staticRenderFns","name","data","selectedIndex","computed","$store","state","rightPanel","keywordComponents","length","searchComponentList","filter","item","search","focusRow","getters","rightPanelFocusRow","watch","$options","setFocus","removeFocus","mounted","commit","methods","keyupHandler","event","keyCode","$emit","action","setTimeout","console","log","rows","checkRowFocusStatus","rowIndex","queryString","results","componentList","map","cb","component","$","$map","arrayMethodHasSpeciesSupport","arrayMethodUsesToLength","HAS_SPECIES_SUPPORT","USES_TO_LENGTH","target","proto","forced","callbackfn","arguments","undefined"],"mappings":"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","file":"js/chunk-6f07a559.4369f25a.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{style:({width: _vm.width}),attrs:{\"id\":\"search_component\"}},[_c('el-autocomplete',{ref:\"search_box\",staticStyle:{\"width\":\"100%\"},attrs:{\"fetch-suggestions\":_vm.querySearch,\"trigger-on-focus\":false,\"placeholder\":\"(Type here - use backstick to highlight)\",\"prefix-icon\":\"el-icon-search\"},on:{\"select\":_vm.handleSelect,\"focus\":_vm.handleFocus,\"input\":_vm.handleInput},model:{value:(_vm.searchKeyword),callback:function ($$v) {_vm.searchKeyword=$$v},expression:\"searchKeyword\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"search_component\" v-bind:style=\"{width: width}\">\n    <el-autocomplete\n      v-model=\"searchKeyword\"\n      :fetch-suggestions=\"querySearch\"\n      :trigger-on-focus=\"false\"\n      placeholder=\"(Type here - use backstick to highlight)\"\n      prefix-icon=\"el-icon-search\"\n      style=\"width: 100%\"\n      ref=\"search_box\"\n      @select=\"handleSelect\"\n      @focus=\"handleFocus\"\n      @input=\"handleInput\"\n    ></el-autocomplete>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"search-box\",\n  data() {\n    return {\n      searchKeyword: \"\",\n      selectedIndex: 0\n    };\n  },\n  computed: {\n    width() {\n      return this.$store.state.rightPanel.width;\n    },\n    keywordComponents() {\n      if (this.searchKeyword.length == 0) {\n        return [];\n      }\n\n      return this.$store.state.searchComponentList.filter(item => {\n        return item.search(this.searchKeyword) > -1;\n      });\n    },\n    focusRow() {\n      return this.$store.getters.rightPanelFocusRow;\n    }\n  },\n  watch: {\n    focusRow() {\n      if (this.focusRow == this.$options.name) {\n        this.setFocus();\n      } else if (this.focusRow != null) {\n        this.removeFocus();\n      }\n    }\n  },\n  mounted() {\n    this.$store.commit(\"setRightPanelWidth\", \"calc(30% - 4px)\");\n  },\n  methods: {\n    keyupHandler(event) {\n      if (event.keyCode == 13) {\n        const action = this.keywordComponents[this.selectedIndex];\n        this.$emit(\"renderRightPanel\", action);\n        this.searchKeyword = \"\";\n      } else if (event.key == \"ArrowDown\") {\n        if (this.selectedIndex < this.keywordComponents.length - 1) {\n          this.selectedIndex += 1;\n        }\n      } else if (event.key == \"ArrowUp\") {\n        if (this.selectedIndex > 0) {\n          this.selectedIndex -= 1;\n        }\n      }\n      if (this.searchKeyword.length == 0) {\n        this.selectedIndex = 0;\n      }\n      this.$store.commit(\"setRightPanelSearchKeyword\", this.searchKeyword);\n    },\n    setFocus() {\n      setTimeout(() => {\n        this.$refs.search_box.$el.getElementsByTagName(\"input\")[0].focus();\n      }, 50);\n    },\n    removeFocus() {\n      // setTimeout(() => {\n      //   this.$refs.search_box.blur();\n      // }, 50);\n      console.log(\"removeFocus from the searchBox\");\n    },\n    handleFocus() {\n      const { rows } = this.$store.state.rightPanel;\n      this.$store.commit(\"setRightPanelFocusRowIndex\", rows.length - 1);\n    },\n    checkRowFocusStatus(object) {\n      const { rowIndex } = object;\n      if (rowIndex == this.selectedIndex) {\n        return { \"background-color\": \"#ecf5ff\" };\n      }\n    },\n    querySearch(queryString, cb) {\n      const componentList = this.$store.state.searchComponentList;\n      let results = [];\n      if (queryString.length == 0) {\n        results = [];\n      }\n\n      results = componentList.filter(item => {\n        return item.search(queryString) > -1;\n      });\n\n      results = results.map(result => {\n        return { value: result };\n      });\n      cb(results);\n    },\n\n    handleSelect(item) {\n      const action = item.value;\n      this.$emit(\"renderRightPanel\", action);\n      this.searchKeyword = \"\";\n      this.$store.commit(\"setRightPanelSearchKeyword\", \"\");\n    },\n    handleInput() {\n      this.$store.commit(\"setRightPanelSearchKeyword\", this.searchKeyword);\n    }\n  }\n};\n</script>\n\n<style lang=\"css\">\n#search_component {\n  position: absolute;\n  bottom: 0;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchBox.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchBox.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SearchBox.vue?vue&type=template&id=abeadb2c&\"\nimport script from \"./SearchBox.vue?vue&type=script&lang=js&\"\nexport * from \"./SearchBox.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SearchBox.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchBox.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchBox.vue?vue&type=style&index=0&lang=css&\"","'use strict';\nvar $ = require('../internals/export');\nvar $map = require('../internals/array-iteration').map;\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('map');\n// FF49- issue\nvar USES_TO_LENGTH = arrayMethodUsesToLength('map');\n\n// `Array.prototype.map` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.map\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT || !USES_TO_LENGTH }, {\n  map: function map(callbackfn /* , thisArg */) {\n    return $map(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n"],"sourceRoot":""}