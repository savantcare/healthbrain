{"version":3,"sources":["webpack:///./src/components/ui/SearchBox.vue?c2f7","webpack:///src/components/ui/SearchBox.vue","webpack:///./src/components/ui/SearchBox.vue?9c24","webpack:///./src/components/ui/SearchBox.vue?081a","webpack:///./src/components/ui/SearchBox.vue?3555","webpack:///./node_modules/core-js/modules/es.array.map.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","style","width","attrs","ref","staticStyle","querySearch","on","handleSelect","handleFocus","handleInput","model","value","callback","$$v","searchKeyword","expression","staticRenderFns","name","data","selectedIndex","computed","$store","state","rightPanel","keywordComponents","length","searchComponentList","filter","item","search","focusRow","getters","rightPanelFocusRow","watch","$options","setFocus","removeFocus","mounted","commit","methods","keyupHandler","event","keyCode","$emit","action","setTimeout","console","log","rows","checkRowFocusStatus","rowIndex","queryString","results","componentList","map","cb","component","$","$map","arrayMethodHasSpeciesSupport","arrayMethodUsesToLength","HAS_SPECIES_SUPPORT","USES_TO_LENGTH","target","proto","forced","callbackfn","arguments","undefined"],"mappings":"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","file":"js/chunk-6f07a559.58effc93.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{style:({width: _vm.width}),attrs:{\"id\":\"search_component\"}},[_c('el-autocomplete',{ref:\"search_box\",staticStyle:{\"width\":\"100%\"},attrs:{\"fetch-suggestions\":_vm.querySearch,\"trigger-on-focus\":false,\"placeholder\":\"(Type here - use backstick to highlight)\",\"prefix-icon\":\"el-icon-search\"},on:{\"select\":_vm.handleSelect,\"focus\":_vm.handleFocus,\"input\":_vm.handleInput},model:{value:(_vm.searchKeyword),callback:function ($$v) {_vm.searchKeyword=$$v},expression:\"searchKeyword\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div id=\"search_component\" v-bind:style=\"{width: width}\">\r\n    <el-autocomplete\r\n      v-model=\"searchKeyword\"\r\n      :fetch-suggestions=\"querySearch\"\r\n      :trigger-on-focus=\"false\"\r\n      placeholder=\"(Type here - use backstick to highlight)\"\r\n      prefix-icon=\"el-icon-search\"\r\n      style=\"width: 100%\"\r\n      ref=\"search_box\"\r\n      @select=\"handleSelect\"\r\n      @focus=\"handleFocus\"\r\n      @input=\"handleInput\"\r\n    ></el-autocomplete>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"search-box\",\r\n  data() {\r\n    return {\r\n      searchKeyword: \"\",\r\n      selectedIndex: 0\r\n    };\r\n  },\r\n  computed: {\r\n    width() {\r\n      return this.$store.state.rightPanel.width;\r\n    },\r\n    keywordComponents() {\r\n      if (this.searchKeyword.length == 0) {\r\n        return [];\r\n      }\r\n\r\n      return this.$store.state.searchComponentList.filter(item => {\r\n        return item.search(this.searchKeyword) > -1;\r\n      });\r\n    },\r\n    focusRow() {\r\n      return this.$store.getters.rightPanelFocusRow;\r\n    }\r\n  },\r\n  watch: {\r\n    focusRow() {\r\n      if (this.focusRow == this.$options.name) {\r\n        this.setFocus();\r\n      } else if (this.focusRow != null) {\r\n        this.removeFocus();\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    this.$store.commit(\"setRightPanelWidth\", \"calc(30% - 4px)\");\r\n  },\r\n  methods: {\r\n    keyupHandler(event) {\r\n      if (event.keyCode == 13) {\r\n        const action = this.keywordComponents[this.selectedIndex];\r\n        this.$emit(\"renderRightPanel\", action);\r\n        this.searchKeyword = \"\";\r\n      } else if (event.key == \"ArrowDown\") {\r\n        if (this.selectedIndex < this.keywordComponents.length - 1) {\r\n          this.selectedIndex += 1;\r\n        }\r\n      } else if (event.key == \"ArrowUp\") {\r\n        if (this.selectedIndex > 0) {\r\n          this.selectedIndex -= 1;\r\n        }\r\n      }\r\n      if (this.searchKeyword.length == 0) {\r\n        this.selectedIndex = 0;\r\n      }\r\n      this.$store.commit(\"setRightPanelSearchKeyword\", this.searchKeyword);\r\n    },\r\n    setFocus() {\r\n      setTimeout(() => {\r\n        this.$refs.search_box.$el.getElementsByTagName(\"input\")[0].focus();\r\n      }, 50);\r\n    },\r\n    removeFocus() {\r\n      // setTimeout(() => {\r\n      //   this.$refs.search_box.blur();\r\n      // }, 50);\r\n      console.log(\"removeFocus from the searchBox\");\r\n    },\r\n    handleFocus() {\r\n      const { rows } = this.$store.state.rightPanel;\r\n      this.$store.commit(\"setRightPanelFocusRowIndex\", rows.length - 1);\r\n    },\r\n    checkRowFocusStatus(object) {\r\n      const { rowIndex } = object;\r\n      if (rowIndex == this.selectedIndex) {\r\n        return { \"background-color\": \"#ecf5ff\" };\r\n      }\r\n    },\r\n    querySearch(queryString, cb) {\r\n      const componentList = this.$store.state.searchComponentList;\r\n      let results = [];\r\n      if (queryString.length == 0) {\r\n        results = [];\r\n      }\r\n\r\n      results = componentList.filter(item => {\r\n        return item.search(queryString) > -1;\r\n      });\r\n\r\n      results = results.map(result => {\r\n        return { value: result };\r\n      });\r\n      cb(results);\r\n    },\r\n\r\n    handleSelect(item) {\r\n      const action = item.value;\r\n      this.$emit(\"renderRightPanel\", action);\r\n      this.searchKeyword = \"\";\r\n    },\r\n    handleInput() {\r\n      this.$store.commit(\"setRightPanelSearchKeyword\", this.searchKeyword);\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"css\">\r\n#search_component {\r\n  position: absolute;\r\n  bottom: 0;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchBox.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchBox.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SearchBox.vue?vue&type=template&id=459e820e&\"\nimport script from \"./SearchBox.vue?vue&type=script&lang=js&\"\nexport * from \"./SearchBox.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SearchBox.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchBox.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchBox.vue?vue&type=style&index=0&lang=css&\"","'use strict';\nvar $ = require('../internals/export');\nvar $map = require('../internals/array-iteration').map;\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('map');\n// FF49- issue\nvar USES_TO_LENGTH = arrayMethodUsesToLength('map');\n\n// `Array.prototype.map` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.map\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT || !USES_TO_LENGTH }, {\n  map: function map(callbackfn /* , thisArg */) {\n    return $map(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n"],"sourceRoot":""}